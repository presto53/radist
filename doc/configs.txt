Положение конфигурационных файлов
=================================

Предполагается, что в вашем домене (или домене, который стоит в search), есть
сервер с название conf. На нем должен стоять любой http-сервер. 

Пути по умолчанию:

  * http://conf/config/radist.conf
  * http://conf/config/ixServers.cfg

Изменение положения описано в основной документации.

Другой путь --- изменение исходного кода в radist/default.py.

ixServers.cfg
=============

Самый простой файл описания серверов. Выглядит как перечисление серверов с
ролями.  Если роль заканчивается на число, это число будет номером машины в
кластере. Подчеркивание является разделителем внутри роли.

Пример файла:

::

    server1     -build -log
    server2     -frontend -log
    server3     -dev_frontend
    server4     -dev_build -backup -log

Для такого файла, будет создана следующая иерархия:

::

    ix -> log       : server1, server2, server4
       -> build     : server1
       -> frontend  : server2
       -> backup    : server4
       -> dev -> build    : server4
              -> frontend : server3

Обратите внимание, что *dev_* создает свою иерархию. Таким образом, выкатка на
боевые и тестовые сервера происходит единообразно: достаточно передавать
правильный корень в процедуру выкатки.

Иногда бывает необходимо переопределить поведение по умолчанию, для этого есть
специальные роли, например, если у нас появилась новый тип фронтенда и есть
желание назвать эту роль frontend2, придется поступить следующим образом:

::

    #|^frontend2$ Fixed
    ...
    server5     -frontend2

Если эту строчку убрать, библиотека попытается создать ноду номер 2 в *frontend*.

radist.conf
===========

В этом файле описываются не сервера, а *radist-пути*. У каждого пути есть
некоторое количество атрибутов, которые будут добавлены к данной ноде. Самый
главный атрибут, это *primary*. Он состоит из двух обязательных полей: названия
сервера и основная директория, и одного необязательного: временной директории.

Два других, поддерживаемых сейчас атрибута --- *backup* и *spacelimit*.

Пример этого конфигурационного файла:

::

    /R/avatar
        primary=server8:/data/avatar

    /R/favicon
        primary=server8:/data/favicon

    /R/log/storage
        primary=server7:/data/logs:/data/tmp-logs

Исторически сложилось так, что путь обязан начинаться с /R.
